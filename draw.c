#include <stdlib.h>
#include <stdio.h>
#include "draw.h"

char empty_chair[6][29] = {
  "                            ",
  "                            ",
  "                            ",
  "                            ",
  "                            ",
  "                            "
};

char customer[2][6][29] = {
  {
    "                ____        ",
    "              .'    '.      ",
    "             /  o  o  \\     ",
    "             |   __   |     ",
    "             \\  [__]  /     ",
    "              '.____.'      "
  },
  {
    "                ____        ",
    "              .'    '.      ",
    "             /  o  o  \\     ",
    "             |        |     ",
    "             \\  ----  /     ",
    "              '.____.'      "
  }
};

char empty_table[10][29] = {
  "____________________________",
  "        /                   ",
  "       /                    ",
  "      /                     ",
  "     /                      ",
  "    /                       ",
  "   /                        ",
  "  /                         ",
  " /                          ",
  "/___________________________"
};

char table[7][10][45] = {
  {
    "____________________________",
    "        /                   ",
    "       /   ___________      ",
    "      /   /          /  | | ",
    "     /   /          /   | | ",
    "    /   /          /    | | ",
    "   /   /          /     | | ",
    "  /   /          /          ",
    " /   -----------   \\__/     ",
    "/___________________________"
  },
  {
    "____________________________",
    "        /                   ",
    "       /   ___________      ",
    "      /   /          /  | | ",
    "     /   /          /   | | ",
    "    /   /          /    | | ",
    "   /   /     ▒▒░░ /     | | ",
    "  /   /      ████/          ",
    " /   ------------  \\__/     ",
    "/___________________________"
  },
  {
    "____________________________",
    "        /                   ",
    "       /   ___________      ",
    "      /   /          /  | | ",
    "     /   /          /   | | ",
    "    /   /          /    | | ",
    "   /   /▒▒░░ ▒▒░░ /     | | ",
    "  /   / ████ ████/          ",
    " /    -----------   \\__/    ",
    "/___________________________"
  },
  {
    "____________________________",
    "        /                   ",
    "       /   ___________      ",
    "      /   /          /  | | ",
    "     /   /     ▒▒░░ /   | | ",
    "    /   /      ████/    | | ",
    "   /   /▒▒░░ ▒▒░░ /     | | ",
    "  /   / ████ ████/          ",
    " /    -----------   \\__/    ",
    "/___________________________"
  },
  {
    "____________________________",
    "        /                   ",
    "       /   ___________      ",
    "      /   /          /  | | ",
    "     /   /▒▒░░ ▒▒░░ /   | | ",
    "    /   / ████ ████/    | | ",
    "   /   /▒▒░░ ▒▒░░ /     | | ",
    "  /   / ████ ████/          ",
    " /    -----------   \\__/    ",
    "/___________________________"
  },
  {
    "____________________________",
    "        /                   ",
    "       /   ______▒▒░░_      ",
    "      /   /      ████/  | | ",
    "     /   /▒▒░░ ▒▒░░ /   | | ",
    "    /   / ████ ████/    | | ",
    "   /   /▒▒░░ ▒▒░░ /     | | ",
    "  /   / ████ ████/          ",
    " /    -----------   \\__/    ",
    "/___________________________"
  },
  {
    "____________________________",
    "        /                   ",
    "       /   _▒▒░░_▒▒░░_      ",
    "      /   / ████ ████/  | | ",
    "     /   /▒▒░░ ▒▒░░ /   | | ",
    "    /   / ████ ████/    | | ",
    "   /   /▒▒░░ ▒▒░░ /     | | ",
    "  /   / ████ ████/          ",
    " /    -----------   \\__/    ",
    "/___________________________"
  }
};

char title[11][58] = {
" _______________________________________________________ ",
"|   (                       (                           |",
"|   )\\ )                    )\\ )              )         |",
"|  (()/( (                 (()/(   (       ( /( (       |",
"|   /(_)))\\ )   (      (    /(_)) ))\\  (   )\\()))\\      |",
"|  (_)) (()/(   )\\ )   )\\  (_))  /((_) )\\ ((_)\\((_)     |",
"|  / __| )(_)) _(_/(  ((_) / __|(_))( ((_)| |(_)(_)     |",
"|  \\__ \\| || || ' \\))/ _|  \\__ \\| || |(_-<| ' \\ | |     |",
"|  |___/ \\_, ||_||_| \\__|  |___/ \\_,_|/__/|_||_||_|     |",
"|        |__/                                           |",
"|_______________________________________________________|"
};

char flag[] = {
"　　（○）\n"
"　　　||ヽ　　＿＿＿＿＿＿＿＿＿＿＿＿＿＿\n"
"　　　||　|／||　◎ ヽ》'》'》'》'》'》'》'》'》'》'》'》'》'》'》' '三\n"
"　　　||　|＼||　　　ノ彡》'》'》'》'》'》'》'》'》'》'》'》'》'》',三\n"
"　　　||　|　　￣￣￣￣￣￣￣￣￣￣￣￣￣￣\n"
"　　　||　|　　＿＿＿＿＿＿＿＿＿＿＿＿＿__\n"
"　　　||　|／||　◎ ヽﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ' '三\n"
"　　　||　|＼||　　　ノ彡ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,ﾐ,,三\n"
"　　　||　|　　￣￣￣￣￣￣￣￣￣￣￣￣￣~\n"
"　　　||　|　　＿＿＿＿＿＿＿＿＿＿＿\n"
"　　　||　|／||　◎ ヽ〆〆〆〆〆〆〆〆三\n"
"　　　||　|＼||　　　ノ彡,,〆〆〆〆〆〆 ,,三\n"
"　　　||　|　　￣￣￣￣￣￣￣￣￣￣￣\n"
"　　　||　|\n"
"　　　||　|\n"
"　　　||　|\n"
"　　　||ノ\n"
"　 　,,||;;;\n"
};



void draw(int state, Customer customers[], int customers_eating, int plates[])
{
  printf(flag);
  for(int line_index=0; line_index<11; line_index++){
    printf(title[line_index]);
    printf("\n");
  }
  printf("\n\n\n\n\n");
  
  // Draw chairs
  for(int line_index=0; line_index<6; line_index++)
  {
    for(int customer_index=0; customer_index<5; customer_index++)
    {
      if(plates[customer_index] > 0)
      {
        printf(customer[state][line_index]);
      }
      else
      {
        printf(empty_chair[line_index]);
      }
    }
    printf("\n");
  }

  // Draw tables
  for(int line_index=0; line_index<10; line_index++)
  {
    for(int customer_index=0; customer_index<5; customer_index++)
    {
      printf(table[plates[customer_index]][line_index]);
    }
    printf("\n");
  }
}